<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>CV Parser Pro - Modern Interface</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined|Material+Icons+Round"
      rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"
      rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background-color: #f8f9fa;
        transition: background-color 0.3s ease;
      }
      .dark body {
        background-color: #1a202c;
      }
      .dark .bg-white {
        background-color: #2d3748 !important;
      }
      .dark .text-gray-800 {
        color: #e2e8f0 !important;
      }
      .dark .text-gray-700 {
        color: #a0aec0 !important;
      }
      .dark .text-gray-600 {
        color: #cbd5e0 !important;
      }
      .dark .text-gray-500 {
        color: #a0aec0 !important;
      }
      .dark .border-gray-200 {
        border-color: #4a5568 !important;
      }
      .dark .border-gray-300 {
        border-color: #718096 !important;
      }
      .dark input[type="text"],
      .dark input[type="search"],
      .dark input[type="date"],
      .dark select {
        background-color: #2d3748;
        border-color: #4a5568;
        color: #e2e8f0;
      }
      .dark input::placeholder {
        color: #a0aec0;
      }
      .dark .hover\:bg-gray-100:hover {
        background-color: #4a5568 !important;
      }
      .dark .hover\:bg-gray-50:hover {
        background-color: #4a5568 !important;
      }
      .icon-button {
        transition: background-color 0.2s ease-in-out,
          transform 0.2s ease-in-out;
      }
      .icon-button:hover {
        background-color: rgba(0, 0, 0, 0.05);
        transform: scale(1.1);
      }
      .dark .icon-button:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }
      .upload-area {
        border: 2px dashed #e2e8f0;
        transition: border-color 0.3s ease, background-color 0.3s ease;
      }
      .dark .upload-area {
        border-color: #4a5568;
      }
      .upload-area:hover,
      .upload-area.dragging {
        border-color: #4f46e5;
        background-color: #eef2ff;
      }
      .dark .upload-area:hover,
      .dark .upload-area.dragging {
        border-color: #818cf8;
        background-color: #3730a320;
      }
      .lds-ring {
        display: inline-block;
        position: relative;
        width: 20px;
        height: 20px;
      }
      .lds-ring div {
        box-sizing: border-box;
        display: block;
        position: absolute;
        width: 16px;
        height: 16px;
        margin: 2px;
        border: 2px solid #fff;
        border-radius: 50%;
        animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        border-color: #fff transparent transparent transparent;
      }
      .lds-ring div:nth-child(1) {
        animation-delay: -0.45s;
      }
      .lds-ring div:nth-child(2) {
        animation-delay: -0.3s;
      }
      .lds-ring div:nth-child(3) {
        animation-delay: -0.15s;
      }
      @keyframes lds-ring {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      .accent-bg {
        background-color: #4f46e5;
      }
      .hover\:accent-bg-hover:hover {
        background-color: #4338ca;
      }
      .accent-text {
        color: #4f46e5;
      }
      .dark .accent-text {
        color: #818cf8;
      }
      .accent-border {
        border-color: #4f46e5;
      }
      .dark .accent-border {
        border-color: #818cf8;
      }
      .ring-accent:focus {
        --tw-ring-color: #4f46e5 !important;
      }
      .dark .ring-accent:focus {
        --tw-ring-color: #818cf8 !important;
      }
      .card-hover-effect {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .card-hover-effect:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .dark .card-hover-effect:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
          0 4px 6px -2px rgba(0, 0, 0, 0.15);
      }
      .fade-enter-active,
      .fade-leave-active {
        transition: opacity 0.5s;
      }
      .fade-enter,
      .fade-leave-to {
        opacity: 0;
      }
      .slide-fade-enter-active {
        transition: all 0.3s ease;
      }
      .slide-fade-leave-active {
        transition: all 0.3s cubic-bezier(1, 0.5, 0.8, 1);
      }
      .slide-fade-enter,
      .slide-fade-leave-to {
        transform: translateY(10px);
        opacity: 0;
      }
    </style>
  </head>
  <body class="text-gray-800">
    <div class="min-h-screen flex flex-col" id="app">
      <nav
        class="bg-white dark:bg-gray-800 shadow-md fixed w-full z-20 transition-all duration-300">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex items-center justify-between h-20">
            <div class="flex items-center">
              <span class="material-icons-round text-3xl accent-text">
                document_scanner
              </span>
              <span
                class="ml-3 font-semibold text-2xl text-gray-800 dark:text-white"
                >CV Parser Pro</span
              >
            </div>
            <div class="flex items-center space-x-5">
              <div class="relative">
                <button
                  @click="languageDropdownOpen = !languageDropdownOpen"
                  class="flex items-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white focus:outline-none transition-colors duration-200 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                  <span class="material-icons-outlined">translate</span>
                  <span class="ml-1.5 text-sm font-medium">EN</span>
                  <span class="material-icons-outlined text-lg ml-0.5"
                    >expand_more</span
                  >
                </button>
                <transition name="slide-fade">
                  <div
                    @click.away="languageDropdownOpen = false"
                    class="absolute right-0 mt-2 w-36 bg-white dark:bg-gray-700 rounded-lg shadow-xl py-1 z-30 border border-gray-200 dark:border-gray-600"
                    v-show="languageDropdownOpen">
                    <a
                      class="block px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                      href="#"
                      >English</a
                    >
                    <a
                      class="block px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                      href="#"
                      >Français</a
                    >
                    <a
                      class="block px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                      href="#"
                      >Español</a
                    >
                  </div>
                </transition>
              </div>
              <button
                @click="toggleTheme"
                class="text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white focus:outline-none icon-button p-2.5 rounded-full">
                <span
                  class="material-icons-outlined text-xl"
                  v-text="isDarkMode ? 'light_mode' : 'dark_mode'"></span>
              </button>
              <button
                class="relative text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white focus:outline-none icon-button p-2.5 rounded-full">
                <span class="material-icons-outlined text-xl"
                  >notifications</span
                >
                <span
                  class="absolute top-1.5 right-1.5 h-2.5 w-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"></span>
              </button>
              <div class="relative">
                <button
                  @click="profileDropdownOpen = !profileDropdownOpen"
                  class="flex items-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white focus:outline-none transition-colors duration-200">
                  <img
                    alt="User avatar"
                    class="h-10 w-10 rounded-full object-cover border-2 border-transparent hover:border-indigo-500 transition-all duration-200"
                    src="https://lh3.googleusercontent.com/aida-public/AB6AXuBejQ9tcu5CzJkGSO5FKpH7RFN2Xxi9rHMePmqdmE1ns40CEA1vJ0TDT2718VPKFKMnxR_SOpywenQYEUzDrZeqURw2OwoV7ytmmH1exfz1QpUa2MyoFoodMktGaMNGPrsfI3_CtHmJ8ljYP22FZ1A67Qh9YTCFzBWNaiSHKYYcEulVZLLgPWC1PiHkbO1jhMcEynZltIdY6rsrBMPOsuHYwyFOQhLBBynDdP8VMGY9T0tHUBb5JMwSRpeqQgbfwMdJDJHtYEIGNW8D" />
                  <span class="ml-3 text-sm font-medium hidden sm:inline"
                    >Recruiter Name</span
                  >
                  <span class="material-icons-outlined text-lg ml-1"
                    >expand_more</span
                  >
                </button>
                <transition name="slide-fade">
                  <div
                    @click.away="profileDropdownOpen = false"
                    class="absolute right-0 mt-3 w-52 bg-white dark:bg-gray-700 rounded-lg shadow-xl py-1 z-30 border border-gray-200 dark:border-gray-600"
                    v-show="profileDropdownOpen">
                    <a
                      class="flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                      href="#">
                      <span class="material-icons-outlined text-lg mr-2.5"
                        >settings</span
                      >Profile Settings
                    </a>
                    <a
                      class="flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                      href="#">
                      <span class="material-icons-outlined text-lg mr-2.5"
                        >logout</span
                      >Logout
                    </a>
                  </div>
                </transition>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <main
        class="flex-grow pt-28 bg-gray-100 dark:bg-gray-900 transition-all duration-300">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
          <header class="mb-10 text-center lg:text-left">
            <h1 class="text-4xl font-bold text-gray-800 dark:text-white">
              Welcome to CV Parser Pro
            </h1>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-300">
              Elevate your hiring with intelligent CV processing.
            </p>
          </header>
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div
              class="lg:col-span-4 bg-white dark:bg-gray-800 p-8 rounded-xl shadow-xl transition-all duration-300 card-hover-effect">
              <h2
                class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-8">
                Upload CVs
              </h2>
              <div
                :class="{ 'dragging': isDragging }"
                @click="$refs.fileInput.click()"
                @dragleave.prevent="isDragging = false"
                @dragover.prevent="isDragging = true"
                @drop.prevent="handleDrop"
                class="upload-area rounded-lg p-10 text-center mb-8 cursor-pointer">
                <span class="material-icons-outlined text-7xl accent-text mb-4"
                  >cloud_upload</span
                >
                <p class="text-gray-700 dark:text-gray-200 font-medium text-lg">
                  Drag &amp; drop files here
                </p>
                <p class="text-gray-500 dark:text-gray-400 text-sm">
                  or click to browse
                </p>
                <p class="text-xs text-gray-500 dark:text-gray-400 mt-3">
                  Supports PDF, DOCX. Max 10 files.
                </p>
                <input
                  @change="handleFileSelect"
                  accept=".pdf,.docx"
                  class="hidden"
                  multiple=""
                  ref="fileInput"
                  type="file" />
              </div>
              <div class="mb-6" v-if="selectedFiles.length &gt; 0">
                <p
                  class="text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">
                  Selected files ({{ selectedFiles.length }}):
                </p>
                <ul
                  class="max-h-40 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-700">
                  <li
                    :key="index"
                    class="flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-2.5 rounded-md shadow-sm transition-all duration-200 hover:shadow-md"
                    v-for="(file, index) in selectedFiles">
                    <span :title="file.name" class="truncate w-3/5 font-medium"
                      >{{ file.name }}</span
                    >
                    <span class="text-gray-400 dark:text-gray-500 text-nowrap"
                      >({{ (file.size / 1024).toFixed(1) }} KB)</span
                    >
                    <button
                      @click="removeFile(index)"
                      class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 ml-2 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors">
                      <span class="material-icons-outlined text-base"
                        >close</span
                      >
                    </button>
                  </li>
                </ul>
              </div>
              <button
                :class="{'opacity-60 cursor-not-allowed': isUploading || selectedFiles.length === 0, 'hover:accent-bg-hover': !isUploading &amp;&amp; selectedFiles.length &gt; 0}"
                :disabled="isUploading || selectedFiles.length === 0"
                @click="uploadFiles"
                class="w-full accent-bg text-white font-semibold py-3 px-4 rounded-lg focus:outline-none focus:ring-2 ring-accent focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-all duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center text-base shadow-md hover:shadow-lg">
                <div class="lds-ring" v-if="isUploading">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
                <span class="material-icons-outlined mr-2 text-xl" v-else=""
                  >upload_file</span
                >
                {{ isUploading ? 'Uploading...' : (selectedFiles.length &gt; 0 ?
                `Upload (${selectedFiles.length})` : 'Upload Files') }}
              </button>
            </div>
            <div class="lg:col-span-8">
              <div
                class="flex flex-col sm:flex-row justify-between items-center mb-8">
                <h2
                  class="text-3xl font-semibold text-gray-800 dark:text-gray-100 mb-4 sm:mb-0">
                  Recently Processed
                </h2>
                <div class="flex items-center space-x-3 w-full sm:w-auto">
                  <div class="relative flex-grow sm:flex-grow-0 sm:w-72">
                    <input
                      class="w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 ring-accent focus:border-transparent text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 shadow-sm focus:shadow-md"
                      placeholder="Search by name or keyword"
                      type="search"
                      v-model="searchQueryRight" />
                    <span
                      class="material-icons-outlined absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 text-xl"
                      >search</span
                    >
                  </div>
                  <select
                    class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 ring-accent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 transition-all duration-200 shadow-sm focus:shadow-md"
                    v-model="sortBy">
                    <option value="date_desc">Sort: Newest</option>
                    <option value="date_asc">Sort: Oldest</option>
                    <option value="name_asc">Sort: Name (A-Z)</option>
                    <option value="name_desc">Sort: Name (Z-A)</option>
                    <option value="status">Sort: Status</option>
                  </select>
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div
                  :key="cv.id"
                  class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden card-hover-effect @container"
                  v-for="cv in filteredUploads">
                  <div class="p-6">
                    <div class="flex justify-between items-start mb-3.5">
                      <h3
                        :title="cv.name"
                        class="text-lg font-semibold text-gray-800 dark:text-gray-100 truncate mr-2 flex-1">
                        {{ cv.name }}
                      </h3>
                      <div class="relative">
                        <button
                          @click="toggleCvMenu(cv.id)"
                          class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none icon-button p-1.5 rounded-full">
                          <span class="material-icons-outlined">more_vert</span>
                        </button>
                        <transition name="slide-fade">
                          <div
                            @click.away="closeCvMenu(cv.id)"
                            class="absolute right-0 mt-1 w-52 bg-white dark:bg-gray-700 rounded-lg shadow-xl py-1.5 z-30 border border-gray-200 dark:border-gray-600"
                            v-show="cv.menuOpen">
                            <a
                              class="flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                              href="#">
                              <span
                                class="material-icons-outlined text-base mr-2.5"
                                >visibility</span
                              >Preview
                            </a>
                            <a
                              class="flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                              href="#">
                              <span
                                class="material-icons-outlined text-base mr-2.5"
                                >download</span
                              >Download
                            </a>
                            <a
                              class="flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 hover:accent-text transition-colors duration-150"
                              href="#">
                              <span
                                class="material-icons-outlined text-base mr-2.5"
                                >summarize</span
                              >View Parsed Data
                            </a>
                            <div
                              class="border-t border-gray-200 dark:border-gray-600 my-1.5"></div>
                            <a
                              @click="deleteUpload(cv.id)"
                              class="flex items-center px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 cursor-pointer transition-colors duration-150">
                              <span
                                class="material-icons-outlined text-base mr-2.5"
                                >delete</span
                              >Delete
                            </a>
                          </div>
                        </transition>
                      </div>
                    </div>
                    <div
                      class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2">
                      <span class="material-icons-outlined text-base mr-1.5"
                        >calendar_today</span
                      >
                      <span>Uploaded: {{ cv.uploadDate }}</span>
                    </div>
                    <div
                      :class="{
                                        'text-green-600 dark:text-green-400': cv.status === 'parsed',
                                        'text-red-600 dark:text-red-400': cv.status === 'error',
                                        'text-yellow-600 dark:text-yellow-400': cv.status === 'pending'
                                    }"
                      class="flex items-center text-sm mb-5">
                      <span class="material-icons-outlined text-base mr-1.5">
                        {{ cv.status === 'parsed' ? 'check_circle' : (cv.status
                        === 'error' ? 'error_outline' : 'hourglass_empty') }}
                      </span>
                      <span class="capitalize font-medium"
                        >{{ cv.status }}</span
                      >
                    </div>
                    <div class="flex flex-wrap gap-2.5 text-xs">
                      <span
                        :class="cv.type === 'pdf' ? 'bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300' : 'bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300'"
                        class="px-2.5 py-1 rounded-full font-medium"
                        >{{ cv.type.toUpperCase() }}</span
                      >
                      <span
                        class="bg-gray-100 text-gray-700 dark:bg-gray-600/50 dark:text-gray-300 px-2.5 py-1 rounded-full"
                        >{{cv.size}}</span
                      >
                    </div>
                  </div>
                  <div
                    class="bg-gray-50 dark:bg-gray-700/50 px-6 py-4 flex flex-col @xs:flex-row @xs:justify-end @xs:space-x-3 space-y-2 @xs:space-y-0">
                    <button
                      class="w-full @xs:w-auto text-sm accent-bg hover:accent-bg-hover text-white font-medium py-2.5 px-4 rounded-lg flex items-center justify-center transition-all duration-200 ease-in-out transform hover:scale-105 shadow-sm hover:shadow-md">
                      <span class="material-icons-outlined text-base mr-1.5"
                        >visibility</span
                      >Preview
                    </button>
                    <button
                      class="w-full @xs:w-auto text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200 font-medium py-2.5 px-4 rounded-lg flex items-center justify-center transition-colors duration-200 ease-in-out transform hover:scale-105 shadow-sm hover:shadow-md">
                      <span class="material-icons-outlined text-base mr-1.5"
                        >summarize</span
                      >View Details
                    </button>
                  </div>
                </div>
              </div>
              <div
                class="text-center py-16"
                v-if="!isUploading &amp;&amp; filteredUploads.length === 0 &amp;&amp; recentUploads.length &gt; 0">
                <span
                  class="material-icons-outlined text-7xl text-gray-400 dark:text-gray-500 mb-4"
                  >search_off</span
                >
                <p
                  class="text-2xl text-gray-600 dark:text-gray-300 font-medium">
                  No CVs match your search.
                </p>
                <p class="text-gray-500 dark:text-gray-400 mt-1">
                  Try adjusting your search query or filters.
                </p>
              </div>
              <div
                class="text-center py-16"
                v-if="!isUploading &amp;&amp; recentUploads.length === 0">
                <span
                  class="material-icons-outlined text-7xl text-gray-400 dark:text-gray-500 mb-4"
                  >drafts</span
                >
                <p
                  class="text-2xl text-gray-600 dark:text-gray-300 font-medium">
                  No CVs uploaded yet.
                </p>
                <p class="text-gray-500 dark:text-gray-400 mt-1">
                  Start by uploading CVs using the panel on the left.
                </p>
              </div>
              <div class="mt-10 flex justify-center" v-if="totalPages &gt; 1">
                <nav
                  aria-label="Pagination"
                  class="relative z-0 inline-flex rounded-lg shadow-sm -space-x-px">
                  <a
                    :class="{'opacity-50 cursor-not-allowed': currentPage === 1}"
                    :disabled="currentPage === 1"
                    @click.prevent="changePage(currentPage - 1)"
                    class="relative inline-flex items-center px-3 py-2.5 rounded-l-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
                    href="#">
                    <span class="sr-only">Previous</span>
                    <span class="material-icons-outlined text-xl"
                      >chevron_left</span
                    >
                  </a>
                  <a
                    :class="{'z-10 accent-bg border-indigo-500 text-white dark:bg-indigo-500 dark:border-indigo-500 dark:text-white': currentPage === page, 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-300 dark:border-gray-600': currentPage !== page}"
                    :key="page"
                    @click.prevent="changePage(page)"
                    class="relative inline-flex items-center px-4 py-2.5 text-sm font-medium transition-colors"
                    href="#"
                    v-for="page in pages">
                    {{ page }}
                  </a>
                  <a
                    :class="{'opacity-50 cursor-not-allowed': currentPage === totalPages}"
                    :disabled="currentPage === totalPages"
                    @click.prevent="changePage(currentPage + 1)"
                    class="relative inline-flex items-center px-3 py-2.5 rounded-r-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
                    href="#">
                    <span class="sr-only">Next</span>
                    <span class="material-icons-outlined text-xl"
                      >chevron_right</span
                    >
                  </a>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </main>
      <footer
        class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 py-6 text-center transition-all duration-300">
        <p class="text-sm text-gray-500 dark:text-gray-400">
          © {{ new Date().getFullYear() }} CV Parser Pro. All rights reserved.
          Crafted with ❤️ for Recruiters.
        </p>
      </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script>
      new Vue({
        el: "#app",
        data: {
          isDarkMode: false,
          languageDropdownOpen: false,
          profileDropdownOpen: false,
          isDragging: false,
          selectedFiles: [],
          isUploading: false,
          searchQueryRight: "",
          sortBy: "date_desc",
          recentUploads: [
            {
              id: 1,
              name: "Dr_Eleanore_Wisoky_Resume_Final_Version_Long_Name.pdf",
              uploadDate: "07/26/2024",
              status: "parsed",
              menuOpen: false,
              type: "pdf",
              size: "1.2MB",
            },
            {
              id: 2,
              name: "Mr_Dayton_Lowe_CV_Marketing_Specialist.docx",
              uploadDate: "07/25/2024",
              status: "pending",
              menuOpen: false,
              type: "docx",
              size: "850KB",
            },
            {
              id: 3,
              name: "Wilma_Kiehn_Portfolio_UX_Designer.pdf",
              uploadDate: "07/24/2024",
              status: "error",
              menuOpen: false,
              type: "pdf",
              size: "2.1MB",
            },
            {
              id: 4,
              name: "Kasandra_Swift_Software_Engineer_Application.pdf",
              uploadDate: "07/23/2024",
              status: "parsed",
              menuOpen: false,
              type: "pdf",
              size: "980KB",
            },
            {
              id: 5,
              name: "Alivia_Daniel_CV_Updated_Project_Manager.docx",
              uploadDate: "07/22/2024",
              status: "parsed",
              menuOpen: false,
              type: "docx",
              size: "1.5MB",
            },
            {
              id: 6,
              name: "Elwin_Deckow_Bio_Data_Scientist_Short.pdf",
              uploadDate: "07/21/2024",
              status: "pending",
              menuOpen: false,
              type: "pdf",
              size: "720KB",
            },
          ],
          currentPage: 1,
          itemsPerPage: 4, // Number of cards per page
        },
        computed: {
          filteredUploads() {
            let uploads = [...this.recentUploads];
            if (this.searchQueryRight) {
              const query = this.searchQueryRight.toLowerCase();
              uploads = uploads.filter((cv) =>
                cv.name.toLowerCase().includes(query)
              );
            }
            // Sorting logic
            if (this.sortBy === "date_desc") {
              uploads.sort(
                (a, b) => new Date(b.uploadDate) - new Date(a.uploadDate)
              );
            } else if (this.sortBy === "date_asc") {
              uploads.sort(
                (a, b) => new Date(a.uploadDate) - new Date(b.uploadDate)
              );
            } else if (this.sortBy === "name_asc") {
              uploads.sort((a, b) => a.name.localeCompare(b.name));
            } else if (this.sortBy === "name_desc") {
              uploads.sort((a, b) => b.name.localeCompare(a.name));
            } else if (this.sortBy === "status") {
              const statusOrder = {
                parsed: 1,
                pending: 2,
                error: 3,
              };
              uploads.sort(
                (a, b) => statusOrder[a.status] - statusOrder[b.status]
              );
            }
            const start = (this.currentPage - 1) * this.itemsPerPage;
            const end = start + this.itemsPerPage;
            return uploads.slice(start, end);
          },
          totalPages() {
            let totalItems = this.recentUploads;
            if (this.searchQueryRight) {
              const query = this.searchQueryRight.toLowerCase();
              totalItems = totalItems.filter((cv) =>
                cv.name.toLowerCase().includes(query)
              );
            }
            return Math.ceil(totalItems.length / this.itemsPerPage);
          },
          pages() {
            const pagesArray = [];
            for (let i = 1; i <= this.totalPages; i++) {
              pagesArray.push(i);
            }
            return pagesArray;
          },
        },
        methods: {
          removeFile(index) {
            this.selectedFiles.splice(index, 1);
          },
          toggleCvMenu(cvId) {
            this.recentUploads = this.recentUploads.map((cv) => {
              if (cv.id === cvId) {
                cv.menuOpen = !cv.menuOpen;
              } else {
                cv.menuOpen = false;
              }
              return cv;
            });
          },
          closeCvMenu(cvId) {
            const cv = this.recentUploads.find((c) => c.id === cvId);
            if (cv) cv.menuOpen = false;
          },
          deleteUpload(cvId) {
            this.recentUploads = this.recentUploads.filter(
              (cv) => cv.id !== cvId
            );
            if (this.filteredUploads.length === 0 && this.currentPage > 1) {
              this.changePage(this.currentPage - 1);
            } else if (
              this.filteredUploads.length === 0 &&
              this.currentPage === 1 &&
              this.totalPages > 0
            ) {
              // Stays on page 1
            } else if (this.totalPages === 0) {
              this.currentPage = 1;
            }
          },
          toggleTheme() {
            this.isDarkMode = !this.isDarkMode;
            if (this.isDarkMode) {
              document.documentElement.classList.add("dark");
            } else {
              document.documentElement.classList.remove("dark");
            }
          },
          handleDrop(event) {
            this.isDragging = false;
            const files = Array.from(event.dataTransfer.files);
            this.addFiles(files);
          },
          handleFileSelect(event) {
            const files = Array.from(event.target.files);
            this.addFiles(files);
            this.$refs.fileInput.value = null; // Reset file input
          },
          addFiles(files) {
            files.forEach((file) => {
              const isSupportedType =
                file.type === "application/pdf" ||
                file.type ===
                  "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
              const isDuplicate = this.selectedFiles.find(
                (f) => f.name === file.name && f.size === file.size
              );
              if (isSupportedType && !isDuplicate) {
                if (this.selectedFiles.length < 10) {
                  this.selectedFiles.push(file);
                } else {
                  alert("You can select a maximum of 10 files at a time.");
                }
              } else if (!isSupportedType && !isDuplicate) {
                alert(
                  `File type for ${file.name} is not supported. Please upload PDF or DOCX.`
                );
              }
            });
          },
          uploadFiles() {
            if (this.selectedFiles.length === 0 || this.isUploading) return;
            this.isUploading = true;
            // Simulate upload process
            setTimeout(() => {
              this.selectedFiles.forEach((file) => {
                const newId =
                  this.recentUploads.length > 0
                    ? Math.max(...this.recentUploads.map((cv) => cv.id)) + 1
                    : 1;
                this.recentUploads.unshift({
                  id: newId,
                  name: file.name,
                  uploadDate: new Date().toLocaleDateString("en-US", {
                    month: "2-digit",
                    day: "2-digit",
                    year: "numeric",
                  }),
                  status: "pending", // Initial status
                  menuOpen: false,
                  type: file.name.endsWith(".pdf") ? "pdf" : "docx",
                  size: (file.size / 1024 / 1024).toFixed(1) + "MB",
                });
                // Simulate parsing status update
                setTimeout(() => {
                  const uploadedFile = this.recentUploads.find(
                    (cv) => cv.id === newId
                  );
                  if (uploadedFile) {
                    uploadedFile.status =
                      Math.random() > 0.2 ? "parsed" : "error"; // Randomly assign parsed or error
                  }
                }, 1000 + Math.random() * 1000); // Random delay for status update
              });
              this.selectedFiles = [];
              this.isUploading = false;
              this.currentPage = 1; // Go to first page to see new uploads
              this.sortBy = "date_desc"; // Sort by newest after upload
            }, 1500);
          },
          changePage(page) {
            if (page >= 1 && page <= this.totalPages) {
              this.currentPage = page;
              window.scrollTo({ top: 0, behavior: "smooth" });
            }
          },
          closeAllDropdownsOnClickOutside(event) {
            // Close language dropdown
            const languageDropdownButton = this.$el.querySelector(
              '.relative button[aria-label="Language selector"]'
            ); // Assuming you add an aria-label for better targeting
            const languageDropdownMenu = this.$el.querySelector(
              ".absolute.right-0.mt-2.w-36"
            );
            if (
              this.languageDropdownOpen &&
              languageDropdownButton &&
              !languageDropdownButton.contains(event.target) &&
              languageDropdownMenu &&
              !languageDropdownMenu.contains(event.target)
            ) {
              this.languageDropdownOpen = false;
            }
            // Close profile dropdown
            const profileDropdownButton = this.$el.querySelector(
              '.relative button[aria-label="Profile menu"]'
            ); // Assuming you add an aria-label
            const profileDropdownMenu = this.$el.querySelector(
              ".absolute.right-0.mt-3.w-52"
            );
            if (
              this.profileDropdownOpen &&
              profileDropdownButton &&
              !profileDropdownButton.contains(event.target) &&
              profileDropdownMenu &&
              !profileDropdownMenu.contains(event.target)
            ) {
              this.profileDropdownOpen = false;
            }
            // Close CV item menus
            this.recentUploads.forEach((cv) => {
              if (cv.menuOpen) {
                const cvMenuButton = event.target.closest(
                  `button[data-cv-id="${cv.id}"]`
                ); // Add data-cv-id to buttons
                const cvMenu = this.$el.querySelector(
                  `.absolute[data-cv-menu-id="${cv.id}"]`
                ); // Add data-cv-menu-id to menus
                if (
                  cvMenu &&
                  !cvMenu.contains(event.target) &&
                  (!cvMenuButton || !cvMenuButton.contains(event.target))
                ) {
                  cv.menuOpen = false;
                }
              }
            });
          },
        },
        mounted() {
          // Theme initialization
          if (
            localStorage.theme === "dark" ||
            (!("theme" in localStorage) &&
              window.matchMedia("(prefers-color-scheme: dark)").matches)
          ) {
            this.isDarkMode = true;
            document.documentElement.classList.add("dark");
          } else {
            this.isDarkMode = false;
            document.documentElement.classList.remove("dark");
          }
          document.addEventListener(
            "click",
            this.closeAllDropdownsOnClickOutside
          );
        },
        beforeDestroy() {
          document.removeEventListener(
            "click",
            this.closeAllDropdownsOnClickOutside
          );
        },
        watch: {
          isDarkMode(newVal) {
            if (newVal) {
              localStorage.theme = "dark";
            } else {
              localStorage.theme = "light";
            }
          },
          searchQueryRight() {
            this.currentPage = 1; // Reset to first page on search
          },
          sortBy() {
            this.currentPage = 1; // Reset to first page on sort change
          },
        },
      });
    </script>
  </body>
</html>
